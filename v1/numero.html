<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style_numero.css" rel="stylesheet">

    <body onload="nome_evento()"></body> <!-- aciona a função quando recarrega a pagina -->

    <script>
        function nome_evento(){// pega do localstorage o nome do evento
        nomeevento = localStorage.nome_evento
        
        document.getElementById("nomeevento").innerHTML = nomeevento;//coloca do html
        }

        function sortear() {//sortear numero
            var n1 = parseInt(document.getElementById("n1").value);
            var n2 = parseInt(document.getElementById("n2").value);
            
            if (n1 >= n2 || isNaN(n1,n2)) {//mensagem de erro, se o n1 for maior q n2 ou esta vazio
                alert("ERRO: CAMPO 'NUMERO MINIMO' É MAIOR QUE O CAMPO 'NÚMERO MÁXIMO' OU ESTA VAZIO")
            } else {
                var resul = Math.floor(Math.random() * (n2 - n1 + 1) ) + n1;//resultado aleatorio
    
                
                localStorage.setItem('Ganhador', resul );//guarda na memoria do navegador
                window.open('resultado.html', '_blank');
            }

        }

    </script>

    <title>Sorteio por números</title>
</head>

<body>
    <!--principal-->
    <div class="main">    
        <!--cabeçalho-->     
        <div class="titulo">SORTE.IO</div>

        <div class="caixa"> 
            <div class="nomeevento centro">
                <h1 id="nomeevento"> </h1>
            </div>
            
            <div class="sortear-por centro">
                <div>Sortear numero entre</div>
                <div>
                    <input class="inp" name="min" type="number" min="0" id="n1" placeholder="Número mínimo">
                    e 
                    <input class="inp" name="max" type="number" min="1" id="n2" placeholder="Número máximo">
                </div>
            </div>
            
            <div class="bt-container centro">                
                <button class="bn29"onclick="sortear()">Sortear</button>                                  
            </div>
        </div>
    </div>
</body>
</html>