<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style_numero.css" rel="stylesheet">

    <body onload="nome_evento()"></body> <!-- aciona a função quando recarrega a pagina -->

    <script>
        function nome_evento(){// pega do localstorage o nome do evento
        nomeevento = localStorage.nome_evento
        
        document.getElementById("nomeevento").innerHTML = nomeevento;//coloca do html
        }

        function sortear() {//sortear numero
            var n1 = parseInt(document.getElementById("n1").value);
            var n2 = parseInt(document.getElementById("n2").value);
            
            if (n1 >= n2 || isNaN(n1,n2)) {//mensagem de erro, se o n1 for maior q n2 ou esta vazio
                alert("ERRO: CAMPO 'NUMERO MINIMO' É MAIOR QUE O CAMPO 'NÚMERO MÁXIMO' OU ESTA VAZIO")
            } else {
                var resul = Math.floor(Math.random() * (n2 - n1 + 1) ) + n1;//resultado aleatorio
    
                console.log(resul);
                localStorage.setItem('Ganhador', resul );//guarda na memoria do navegador
                window.open('resultado.html', '_blank');
            }

        }
        
        function checar() {
            var x = localStorage.getItem('Ganhador');
            if (isNaN(x)) {
                console.log('ERRO == nao sorteado eRRO=='+x);
            } else {
                console.log('OK == ganhador=='+x);
            }
            
        }
    </script>

    <title>Sorteio por números</title>
</head>

<body>
    <div class="main">        
        <div class="title">SORTE.IO</div>
        </div>
    <div class= "titulo">
        <div class= "numero">
            
            </div>
           </div>
    <h1>numeros</h1>
    <div>
        <label for="">====nome do evento=====</label>
        <h2 id="nomeevento">ada</h2>
    </div>
    <div class="caontainer">
        <div>
            SORTEAR NÚMERO ENTRE <input type="number" min="0" id="n1" placeholder="Numero minimo"> E <input type="number" min="1" id="n2" placeholder="Numero maximo">
        </div>
        <div>
            <button onclick="sortear()">Sortear</button>
            <button onclick="checar()">checar</button>
        </div>
    </div>
    
</body>
</html>